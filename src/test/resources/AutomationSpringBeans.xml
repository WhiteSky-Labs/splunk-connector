<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<beans xmlns:util="http://www.springframework.org/schema/util"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.springframework.org/schema/beans"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd">

    <bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="location" value="${SPLUNK_CREDENTIALS}"/>
    </bean>


    <bean id="randomShortString" class="org.mule.modules.tests.ConnectorTestUtils"
          factory-method="generateRandomShortString" scope="prototype"/>
    <bean id="secondRandomShortString" class="org.mule.modules.tests.ConnectorTestUtils"
          factory-method="generateRandomShortString" scope="prototype"/>
    <util:constant static-field="org.mule.modules.splunk.SearchMode.NORMAL" id="searchModeNormal"/>
    <util:constant static-field="org.mule.modules.splunk.OutputMode.XML" id="outputModeXML"/>

    <!--getApplications-->
    <util:map id="getApplicationsTestData" key-type="java.lang.String" map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
    </util:map>
    <!--getJobs-->
    <util:map id="getJobsTestData" key-type="java.lang.String" map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
    </util:map>
    <!--runBlockingSearch-->
    <util:map id="invalidBlockingSearchArgs" map-class="java.util.HashMap"
              key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="invalid" value="invalid value"/>
        <entry key="invalid 2" value="more invalid data"/>
    </util:map>
    <util:map id="validBlockingSearchArgs" map-class="java.util.HashMap"
              key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="timeout" value="60"/>
        <entry key="auto_pause" value="0"/>
    </util:map>

    <util:map id="runBlockingSearchTestData" key-type="java.lang.String" map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
        <entry key="searchQuery" value="search * | head 100"/>
        <entry key="search-args" value=""/>
    </util:map>
    <util:map id="runBlockingSearchTestDataWithInvalidProperties" key-type="java.lang.String"
              map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
        <entry key="searchQuery" value="search * | head 100"/>
        <entry key="searchArgs" value-ref="invalidBlockingSearchArgs"/>
    </util:map>
    <util:map id="runBlockingSearchTestDataWithValidProperties" key-type="java.lang.String"
              map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
        <entry key="searchQuery" value="search * | head 100"/>
        <entry key="searchArgs" value-ref="validBlockingSearchArgs"/>
    </util:map>

    <!--runOneShotSearch-->
    <util:map id="oneshotArgs" map-class="java.util.HashMap"
              key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="description" value="Sample Description"/>
    </util:map>
    <util:map id="invalidOneshotArgs" map-class="java.util.HashMap"
              key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="invalid" value="invalid value"/>
    </util:map>


    <util:map id="runOneShotSearchTestData" key-type="java.lang.String" map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
        <entry key="searchQuery" value="search * | head 100"/>
        <entry key="earliestTime" value="-10d"/>
        <entry key="latestTime" value="now"/>
        <entry key="args" value-ref="oneshotArgs"/>
    </util:map>
    <util:map id="runOneShotSearchTestDataWithInvalidArgs" key-type="java.lang.String" map-class="java.util.HashMap"
              scope="prototype"
              value-type="java.lang.Object">
        <entry key="searchQuery" value="search * | head 100"/>
        <entry key="earliestTime" value="-10d"/>
        <entry key="latestTime" value="now"/>
        <entry key="args" value-ref="invalidOneshotArgs"/>
    </util:map>

    <!--getSavedSearches-->
    <util:map id="getSavedSearchesTestData" key-type="java.lang.String" map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
        <entry key="app" value="search"/>
        <entry key="owner" value="admin"/>
    </util:map>
    <!--createSavedSearch-->
    <util:map id="createSavedSearchTestData" key-type="java.lang.String" map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
        <entry key="searchName" value-ref="randomShortString"/>
        <entry key="searchQuery" value="search * | head 100"/>
        <entry key="search-args" value=""/>
    </util:map>
    <util:map id="createDuplicateSavedSearchTestData" key-type="java.lang.String" map-class="java.util.HashMap"
              scope="prototype"
              value-type="java.lang.Object">
        <entry key="searchName" value-ref="secondRandomShortString"/>
        <entry key="searchQuery" value="search * | head 100"/>
        <entry key="search-args" value=""/>
    </util:map>
    <!--viewSavedSearchProperties-->
    <util:map id="viewSavedSearchPropertiesTestData" key-type="java.lang.String" map-class="java.util.HashMap"
              scope="prototype" value-type="java.lang.Object">
        <entry key="searchName" value="Test Search"/>
        <entry key="app" value="search"/>
        <entry key="owner" value="admin"/>
    </util:map>
    <!--modifySavedSearchProperties-->
    <util:map id="searchPropertiesMap" map-class="java.util.HashMap"
              key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="description" value="Sample Description"/>
        <entry key="is_scheduled" value="true"/>
        <entry key="cron_schedule" value="15 4 * * 6"/>
    </util:map>
    <util:map id="modifySavedSearchPropertiesTestData" key-type="java.lang.String" map-class="java.util.HashMap"
              scope="prototype" value-type="java.lang.Object">
        <entry key="searchName" value="Test Search"/>
        <entry key="searchPropertiesRef" value-ref="searchPropertiesMap"/>
    </util:map>
    <util:map id="invalidSearchPropertiesMap" map-class="java.util.HashMap"
              key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="description" value="Sample Description"/>
        <entry key="is_scheduled" value="true"/>
        <entry key="invalid" value="invalid test data"/>
    </util:map>
    <util:map id="modifySavedSearchPropertiesInvalidTestData" key-type="java.lang.String" map-class="java.util.HashMap"
              scope="prototype" value-type="java.lang.Object">
        <entry key="searchName" value="Test Search"/>
        <entry key="searchPropertiesRef" value-ref="invalidSearchPropertiesMap"/>
    </util:map>
    <util:map id="emptySearchPropertiesMap" map-class="java.util.HashMap"
              key-type="java.lang.String" value-type="java.lang.Object">
    </util:map>
    <util:map id="modifySavedSearchPropertiesEmptyTestData" key-type="java.lang.String" map-class="java.util.HashMap"
              scope="prototype" value-type="java.lang.Object">
        <entry key="searchName" value="Test Search"/>
        <entry key="searchPropertiesRef" value-ref="emptySearchPropertiesMap"/>
    </util:map>
    <!--getSavedSearchHistory-->
    <util:map id="getSavedSearchHistoryTestData" key-type="java.lang.String" map-class="java.util.HashMap"
              scope="prototype" value-type="java.lang.Object">
        <entry key="searchName" value="Test Search"/>
        <entry key="app" value="search"/>
        <entry key="owner" value="admin"/>
    </util:map>
    <!--runSavedSearch-->
    <util:map id="runSavedSearchTestData" key-type="java.lang.String" map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
        <entry key="searchName" value="Test Search"/>
    </util:map>
    <!--runSavedSearchWithArguments-->
    <util:map id="savedSearchCustomArgsMap" map-class="java.util.HashMap"
              key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="mysourcetype" value="*"/>
    </util:map>
    <util:map id="savedSearchDispatchArgsMap" map-class="java.util.HashMap" key-type="java.lang.String"
              value-type="java.lang.Object">
        <entry key="earliest_time" value="-20h"/>
        <entry key="latest_time" value="now"/>
    </util:map>
    <util:map id="invalidSavedSearchCustomArgsMap" map-class="java.util.HashMap"
              key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="invalid" value="invalid"/>
    </util:map>
    <util:map id="invalidSavedSearchDispatchArgsMap" map-class="java.util.HashMap" key-type="java.lang.String"
              value-type="java.lang.Object">
        <entry key="invalid" value="invalid"/>
    </util:map>
    <util:map id="runSavedSearchWithArgumentsTestData" key-type="java.lang.String" map-class="java.util.HashMap"
              scope="prototype" value-type="java.lang.Object">
        <entry key="searchName" value="Test Search"/>
        <entry key="custom-args" value-ref="savedSearchCustomArgsMap"/>
        <entry key="search-dispatch-args" value-ref="savedSearchDispatchArgsMap"/>
    </util:map>
    <util:map id="runSavedSearchWithInvalidArgumentsTestData" key-type="java.lang.String" map-class="java.util.HashMap"
              scope="prototype" value-type="java.lang.Object">
        <entry key="searchName" value="Test Search"/>
        <entry key="custom-args" value-ref="invalidSavedSearchCustomArgsMap"/>
        <entry key="search-dispatch-args" value-ref="invalidSavedSearchDispatchArgsMap"/>
    </util:map>
    <!--deleteSavedSearch-->
    <util:map id="deleteSavedSearchTestData" key-type="java.lang.String" map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
        <entry key="searchName" value-ref="randomShortString"/>
    </util:map>
    <!--getDataModel-->
    <util:map id="getDataModelTestData" key-type="java.lang.String" map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
        <entry key="dataModelName" value="internal_audit_logs"/>
    </util:map>
    <!--runExportSearch-->
    <util:map id="exportSearchArgs" map-class="java.util.HashMap"
              key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="description" value="Sample Description"/>
    </util:map>
    <util:map id="runExportSearchTestData" key-type="java.lang.String" map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
        <entry key="searchQuery" value="search index=_internal | head 10"/>
        <entry key="earliestTime" value="-1h"/>
        <entry key="latestTime" value="now"/>
    </util:map>
    <!--runRealTimeSearch-->
    <util:map id="runRealTimeSearchData" key-type="java.lang.String" map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
        <entry key="searchQuery" value="search * | head 100"/>
        <entry key="earliestTime" value="-1h"/>
        <entry key="latestTime" value="now"/>
    </util:map>
    <!--runNormalSearch-->
    <util:map id="normalSearchArgs" map-class="java.util.HashMap"
              key-type="java.lang.String" value-type="java.lang.Object">
        <entry key="description" value="Sample Description"/>
    </util:map>
    <util:map id="runNormalSearchTestData" key-type="java.lang.String" map-class="java.util.HashMap" scope="prototype"
              value-type="java.lang.Object">
        <entry key="searchQuery" value="search index=_internal | head 10"/>
        <entry key="searchArgs" value-ref="normalSearchArgs"/>
    </util:map>

</beans>
